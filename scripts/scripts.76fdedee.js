"use strict";angular.module("hiveDashboardApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl"}).when("/admin",{templateUrl:"views/admin.html",controller:"AdminCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("hiveDashboardApp").controller("MainCtrl",["$firebase","$scope",function(a,b){var c=new Firebase("https://hive-dashboard.firebaseio.com/moonshots");b.moonshots=a(c).$asArray()}]),angular.module("hiveDashboardApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("hiveDashboardApp").controller("LoginCtrl",["$location","$scope","loginService",function(a,b,c){b.login=function(){c.login(b.email,b.password).then(function(){b.email=null,b.password=null,a.path("/admin")})}}]),angular.module("hiveDashboardApp").factory("loginService",["$firebaseAuth","$q",function(a,b){var c=new Firebase("https://hive-dashboard.firebaseio.com/"),d=a(c),e=!1;d.$onAuth(function(a){e=a?!0:!1});var f={};return f.isLoggedIn=function(){return e},f.login=function(a,c){var f=b.defer();return d.$authWithPassword({email:a,password:c}).then(function(){e=!0,f.resolve()}),f.promise},f.logout=function(){d.$unauth()},f}]),angular.module("hiveDashboardApp").controller("AdminCtrl",["$scope","$location","$firebase","loginService",function(a,b,c,d){var e=new Firebase("https://hive-dashboard.firebaseio.com/moonshots");a.moonshots=c(e).$asArray(),a.$watch(d.isLoggedIn,function(){d.isLoggedIn()||b.path("/")}),a.addMoonshot=function(){a.moonshots.$add({title:a.newMoonshot,checkpoint:"1"}).then(function(){a.newMoonshot=null})}}]);